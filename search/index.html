<!DOCTYPE HTML>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>everydayhero API: Search</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" type="image/png" href="//experience.everydayhero.do/favicon-32x32.png" sizes="32x32">
  <link rel="icon" type="image/png" href="//experience.everydayhero.do/favicon-16x16.png" sizes="16x16">
  <link rel="mask-icon" href="//experience.everydayhero.do/safari-pinned-tab.svg" color="#1bab6b">
  <link rel="apple-touch-icon" sizes="180x180" href="//experience.everydayhero.do/apple-touch-icon.png">
  <link rel="stylesheet" href="/stylesheets/pygments.css">
  <link rel="stylesheet" href="/stylesheets/app.css">
  <!--[if lt IE 9]>
    <script src="/javascripts/html5shiv-printshiv.js"></script>
  <![endif]-->
  <script src="https://use.typekit.net/tek7gvp.js"></script>
  <script>try{Typekit.load({ async: true });}catch(e){}</script>
</head>
<body id=''>
  <header class="header top a--100">
    <a class='header-logo' href="/" title='Everydayhero Developer Documention'><h1>Everydayhero: Developer</h1></a>
  </header>
  <section class="main center">
   
    <section class="l--70 m--100 right content">
      <div class="inner">
        
          <h1>Search</h1>
          
<ul id="markdown-toc">
  <li><a href="#campaigns">Campaigns</a></li>
  <li><a href="#charities">Charities</a></li>
  <li><a href="#pages">Pages</a></li>
</ul>

<p>The search api enables efficient text search on entities (backed by Elastic Search) and is suitable for applications such as auto-completion. Currently, the search api endpoints returns the top 100 related results and ordered based on their similarity ranking scores (each of the result entities is also associated with a <code>_score</code> value indicating the relevence to the query specified). Additionally, in order to provide capability to support mixed entity search, each of the entities in the results is also associated with a <code>_type</code> field indicating the entity type (i.e. <code>page</code>, <code>charity</code> or <code>campaign</code>).</p>

<p>Please note, all of the search API endpoints accepts three types of parameters, specifically:</p>

<ul>
  <li>
    <p>a set of <em>filter</em> parameters (e.g. <code>country_code</code>, <code>campaign_ids</code>, <code>charity_ids</code>). The filter parameters decide if a entity should be included in the result set or not. For example, if <code>country_code=au</code>, the result will <strong>only</strong> contain entities with <code>country_code=au</code>. Moreover, some of the filter parameters support mutiple filter values, and the filter values should be specified as a comma separated string. For example, <code>charity_ids=1,2</code> can be used to search entities belonging to either charity 1 and 2.</p>
  </li>
  <li>
    <p>a single <em>text search</em> parameter (i.e. <code>q</code>). The text search parameter matches one or more text fields on the designated entity, and based on the relevence between the text fields and the query, a ranking score (i.e. <code>_score</code>) will be computed, and the results will be sorted based on the scores. If the text parameter is not provided or not matching anything, the endpoints will still return 100 entities conforming to the filter parameters if specifed.</p>
  </li>
  <li>
    <p>a set of <em>result size limit</em> parameters (i.e. <code>limit</code>, <code>page</code> and <code>page_size</code>). The result size limit parameters enable better search performance by limiting the number of results being returned at a single request. There are two ways currently supported for limiting the result sizes, one is with the pagination (through <code>page</code> and <code>page_size</code>) and another is without (<code>limit</code>). Users can enable pagination by specifiy the <code>page</code> parameter (page starts at 1) in the request (with <code>page_size</code> set to 100 by default), and the page size can be adjusted by the <code>page_size</code> parameter. For example, setting <code>page=2&amp;page_size=20</code> will return the second page of results set, and the first item in the page is the 21st item in the entire result set. On the other hand, to limit the result size without pagination, one can utlize the <code>limit</code> parameter to force the search only returns the top few result items.</p>
  </li>
</ul>

<h2 id="campaigns">Campaigns</h2>

<pre><code>GET https://everydayhero.com/api/v2/search/campaigns
</code></pre>

<h3 id="parameters">Parameters</h3>

<p>country_code : <em>optional</em> <strong>string</strong><br>
Only retrieve campaigns for the country code specified. For example <code>au</code>
will retrieve campaigns with country code <code>au</code> (i.e. Australia).</p>

<p>lat, lng : <em>optional</em> <strong>float</strong><br>
Optional lat lng pair to return campaigns near specified location, sorts by distance.</p>

<p>charity_ids : <em>optional</em> <strong>string</strong><br>
Only retrieve campaigns for the charity ids specified (in the comma separated form). For example <code>au-1,au-2</code> will retrieve campaigns with charity ids <code>au-1</code> and <code>au-2</code>.</p>

<p>event_ids : <em>optional</em> <strong>string</strong><br>
Only retrieve campaigns for the event_ids specified (in the comma separated form). For example <code>au-1,au-2</code> will retrieve campaigns with event ids <code>au-1</code> and <code>au-2</code>.</p>

<p>q : <em>optional</em> <strong>string</strong><br>
Retrieve campaigns with <code>campaign name</code> match or partially match to the specified search string.</p>

<h3 id="example">Example</h3>

<pre><code>https://everydayhero.com/api/v2/search/campaigns?country_code=au&amp;q=end
</code></pre>

<h3 id="response">Response</h3>

<pre class="highlight"><code class="language-javascript"><span class="p">{</span>
  <span class="s2">"campaigns"</span><span class="o">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="s2">"id"</span><span class="o">:</span> <span class="mi">3772</span><span class="p">,</span>
      <span class="s2">"name"</span><span class="o">:</span> <span class="s2">"2013 Team Endurance Relay"</span><span class="p">,</span>
      <span class="s2">"country_code"</span><span class="o">:</span> <span class="s2">"au"</span><span class="p">,</span>
      <span class="s2">"start_at"</span><span class="o">:</span> <span class="s2">"2013-03-24T13:00:00.000Z"</span><span class="p">,</span>
      <span class="s2">"finish_at"</span><span class="o">:</span> <span class="s2">"2015-11-28T13:00:00.000Z"</span><span class="p">,</span>
      <span class="s2">"banner_url"</span><span class="o">:</span> <span class="s2">"campaigns/banners/original/missing.gif"</span><span class="p">,</span>
      <span class="s2">"active"</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
      <span class="s2">"_score"</span><span class="o">:</span> <span class="mf">1.884049</span><span class="p">,</span>
      <span class="s2">"_type"</span><span class="o">:</span> <span class="s2">"campaign"</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="s2">"id"</span><span class="o">:</span> <span class="mi">1904</span><span class="p">,</span>
      <span class="s2">"name"</span><span class="o">:</span> <span class="s2">"BITE BACK: Help end malaria"</span><span class="p">,</span>
      <span class="s2">"country_code"</span><span class="o">:</span> <span class="s2">"au"</span><span class="p">,</span>
      <span class="s2">"start_at"</span><span class="o">:</span> <span class="s2">"2012-03-29T13:00:00.000Z"</span><span class="p">,</span>
      <span class="s2">"finish_at"</span><span class="o">:</span> <span class="s2">"2014-06-29T14:00:00.000Z"</span><span class="p">,</span>
      <span class="s2">"banner_url"</span><span class="o">:</span> <span class="s2">"campaigns/banners/original/missing.gif"</span><span class="p">,</span>
      <span class="s2">"active"</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
      <span class="s2">"_score"</span><span class="o">:</span> <span class="mf">1.3550173</span><span class="p">,</span>
      <span class="s2">"_type"</span><span class="o">:</span> <span class="s2">"campaign"</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span></code></pre>

<h2 id="charities">Charities</h2>

<pre><code>GET https://everydayhero.com/api/v2/search/charities
</code></pre>

<h3 id="parameters-1">Parameters</h3>

<p>campaign_ids : <em>optional</em> <strong>string</strong><br>
Only retrieve charities for the campaign_ids specified (in the comma separated form). For example <code>au-1,au-2</code> will retrieve charities within campaign_ids <code>au-1</code> and <code>au-2</code>.</p>

<p>event_ids : <em>optional</em> <strong>string</strong><br>
Only retrieve charities for the event_ids specified (in the comma separated form). For example <code>au-1,au-2</code> will retrieve charities within event_ids <code>au-1</code> and <code>au-2</code>.</p>

<p>country_code : <em>optional</em> <strong>string</strong><br>
Only retrieve charities for the country code specified. For example <code>au</code>
will retrieve charities with country code <code>au</code> (i.e. Australia).</p>

<p>q : <em>optional</em> <strong>string</strong><br>
Retrieve charities with <code>charity name</code> match or partially match to the specified search string.</p>

<h3 id="example-1">Example</h3>

<pre><code>https://everydayhero.com/api/v2/search/charities?country_code=au&amp;campaign_id=au-0&amp;q=end
</code></pre>

<h3 id="response-1">Response</h3>

<pre class="highlight"><code class="language-javascript"><span class="p">{</span>
  <span class="s2">"charities"</span><span class="o">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="s2">"id"</span><span class="o">:</span> <span class="mi">2313</span><span class="p">,</span>
      <span class="s2">"uid"</span><span class="o">:</span> <span class="s2">"au-123"</span><span class="p">,</span>
      <span class="s2">"name"</span><span class="o">:</span> <span class="s2">"Endeavour Foundation"</span><span class="p">,</span>
      <span class="s2">"slug"</span><span class="o">:</span> <span class="s2">"endeavour-foundation"</span><span class="p">,</span>
      <span class="s2">"country_code"</span><span class="o">:</span> <span class="s2">"au"</span><span class="p">,</span>
      <span class="s2">"description"</span><span class="o">:</span> <span class="s2">"Endeavour Foundation is one of the largest non-government disability service provider."</span><span class="p">,</span>
      <span class="s2">"logo_url"</span><span class="o">:</span> <span class="s2">"charities/logos/original/missing.gif"</span><span class="p">,</span>
      <span class="s2">"url"</span><span class="o">:</span> <span class="s2">"http://core-au.edheroy.com/charity/view?charity=48"</span><span class="p">,</span>
      <span class="s2">"active"</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
      <span class="s2">"campaign_uids"</span><span class="o">:</span> <span class="p">[</span>
        <span class="s2">"au-0"</span><span class="p">,</span>
        <span class="s2">"au-1232"</span>
      <span class="p">],</span>
      <span class="s2">"kyc_status"</span><span class="o">:</span> <span class="s2">"passed"</span><span class="p">,</span>
      <span class="s2">"claimed"</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
      <span class="s2">"tax_number"</span><span class="o">:</span> <span class="s2">"12443251"</span><span class="p">,</span>
      <span class="s2">"street_address"</span><span class="o">:</span> <span class="kc">null</span><span class="p">,</span>
      <span class="s2">"locality"</span><span class="o">:</span> <span class="kc">null</span><span class="p">,</span>
      <span class="s2">"region"</span><span class="o">:</span> <span class="kc">null</span><span class="p">,</span>
      <span class="s2">"_score"</span><span class="o">:</span> <span class="mf">3.1716847</span><span class="p">,</span>
      <span class="s2">"_type"</span><span class="o">:</span> <span class="s2">"charity"</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="s2">"id"</span><span class="o">:</span> <span class="mi">6333</span><span class="p">,</span>
      <span class="s2">"uid"</span><span class="o">:</span> <span class="s2">"au-456"</span><span class="p">,</span>
      <span class="s2">"name"</span><span class="o">:</span> <span class="s2">"Community Plus + (West End Family Care Services Incorporated)"</span><span class="p">,</span>
      <span class="s2">"slug"</span><span class="o">:</span> <span class="s2">"community-plus-west-end-family-care-services-incorporated"</span><span class="p">,</span>
      <span class="s2">"country_code"</span><span class="o">:</span> <span class="s2">"au"</span><span class="p">,</span>
      <span class="s2">"description"</span><span class="o">:</span> <span class="s2">"Community Plus provides active centres to support strong communities."</span><span class="p">,</span>
      <span class="s2">"logo_url"</span><span class="o">:</span> <span class="s2">"charities/logos/original/missing.gif"</span><span class="p">,</span>
      <span class="s2">"url"</span><span class="o">:</span> <span class="s2">"http://core-au.edheroy.com/charity/view?charity=3002"</span><span class="p">,</span>
      <span class="s2">"active"</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
      <span class="s2">"campaign_uids"</span><span class="o">:</span> <span class="p">[</span>
        <span class="s2">"au-0"</span><span class="p">,</span>
        <span class="s2">"au-4791"</span>
      <span class="p">],</span>
      <span class="s2">"kyc_status"</span><span class="o">:</span> <span class="s2">"passed"</span><span class="p">,</span>
      <span class="s2">"claimed"</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
      <span class="s2">"tax_number"</span><span class="o">:</span> <span class="s2">"123144294"</span><span class="p">,</span>
      <span class="s2">"street_address"</span><span class="o">:</span> <span class="kc">null</span><span class="p">,</span>
      <span class="s2">"locality"</span><span class="o">:</span> <span class="kc">null</span><span class="p">,</span>
      <span class="s2">"region"</span><span class="o">:</span> <span class="kc">null</span><span class="p">,</span>
      <span class="s2">"_score"</span><span class="o">:</span> <span class="mf">1.8563957</span><span class="p">,</span>
      <span class="s2">"_type"</span><span class="o">:</span> <span class="s2">"charity"</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span></code></pre>

<h2 id="pages">Pages</h2>

<pre><code>GET https://everydayhero.com/api/v2/search/pages
</code></pre>

<h3 id="parameters-2">Parameters</h3>

<p>charity_ids : <em>optional</em> <strong>string</strong><br>
Only retrieve pages participating in the charities specified. For example <code>au-1</code>
will retrieve pages which support charity id <code>au-1</code>.</p>

<p>campaign_ids : <em>optional</em> <strong>string</strong><br>
Only retrieve pages participating in the campaigns specified. For example <code>gb-1</code>
will retrieve pages which support campaign id <code>gb-1</code>.</p>

<p>event_ids : <em>optional</em> <strong>string</strong><br>
Only retrieve pages participating in the events specified. For example <code>gb-1</code>
will retrieve pages which support event id <code>gb-1</code>.</p>

<p>country_code : <em>optional</em> <strong>string</strong><br>
Only retrieve pages participating in the country code specified. For example <code>au</code>
will retrieve pages with country code <code>au</code> (i.e. Australia).</p>

<p>type : <em>optional</em> <strong>string</strong><br>
Only retrieve pages that match the specified type. For example <code>team</code> will retrieve only team pages. Supported values include <code>all</code>, <code>user</code> and <code>team</code>. Defaults to <code>all</code>.</p>

<p>group_value : <em>optional</em> <strong>String/Array</strong><br>
Return pages matching specific page group value, or any of the provided array values.</p>

<p>active : <em>optional</em>  <strong>string</strong><br>
Only retrieve pages based on whether they are active or not. Valid values are <code>true</code>, <code>false</code>, or <code>all</code>.  Default is <code>true</code>, meaning only active pages are returned by default.</p>

<p>expires_after : <em>optional</em> <strong>date-time</strong><br>
Only retrieve pages that expire after the given date.  Values are in iso8601 date time format.  For example, <code>2015-01-01</code> would show pages that expire after January 1, 2015.  The default is the current data and time.</p>

<h3 id="example-2">Example</h3>

<pre><code>https://everydayhero.com/api/v2/search/pages?country_code=au&amp;campaign_id=au-321&amp;q=richards&amp;group_value[]=QLD
</code></pre>

<h3 id="response-2">Response</h3>

<pre class="highlight"><code class="language-javascript"><span class="p">{</span>
  <span class="s2">"pages"</span><span class="o">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="s2">"id"</span><span class="o">:</span> <span class="mi">2030</span><span class="p">,</span>
      <span class="s2">"country_code"</span><span class="o">:</span> <span class="s2">"au"</span><span class="p">,</span>
      <span class="s2">"active"</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
      <span class="s2">"name"</span><span class="o">:</span> <span class="s2">"Helen"</span><span class="p">,</span>
      <span class="s2">"slug"</span><span class="o">:</span> <span class="s2">"helen-17"</span><span class="p">,</span>
      <span class="s2">"supporter"</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">"uid"</span><span class="o">:</span> <span class="s2">"899"</span><span class="p">,</span>
        <span class="s2">"name"</span><span class="o">:</span> <span class="s2">"Helen Ross"</span>
      <span class="p">},</span>
      <span class="s2">"campaign"</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">"uid"</span><span class="o">:</span> <span class="s2">"au-0"</span><span class="p">,</span>
        <span class="s2">"name"</span><span class="o">:</span> <span class="s2">"everydayhero"</span><span class="p">,</span>
        <span class="s2">"url"</span><span class="o">:</span> <span class="s2">"http://core-au.edheroz.com"</span><span class="p">,</span>
        <span class="s2">"get_started_url"</span><span class="o">:</span> <span class="s2">"https://give.edheroz.com/au/get-started"</span>
      <span class="p">},</span>
      <span class="s2">"charity"</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">"uid"</span><span class="o">:</span> <span class="s2">"au-8"</span><span class="p">,</span>
        <span class="s2">"name"</span><span class="o">:</span> <span class="s2">"XYZ Charity"</span><span class="p">,</span>
        <span class="s2">"url"</span><span class="o">:</span> <span class="s2">"http://core-au.edheroz.com/charity/view?charity=8"</span><span class="p">,</span>
        <span class="s2">"get_started_url"</span><span class="o">:</span> <span class="s2">"https://give.edheroz.com/au/xyz-charity/get-started"</span>
      <span class="p">},</span>
      <span class="s2">"image_url"</span><span class="o">:</span> <span class="s2">"https://dqw0wvb05w98x.cloudfront.net/pages/images/2030/original/blob-2e696a58efadbf869442e72b82cad667."</span><span class="p">,</span>
      <span class="s2">"url"</span><span class="o">:</span> <span class="s2">"https://give.edheroz.com/au/helen-17"</span><span class="p">,</span>
      <span class="s2">"expired"</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span>
      <span class="s2">"expires_at"</span><span class="o">:</span> <span class="s2">"2014-11-09T04:19:38.000Z"</span><span class="p">,</span>
      <span class="s2">"type"</span><span class="o">:</span> <span class="s2">"User"</span><span class="p">,</span>
      <span class="s2">"image"</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">"original_image_url"</span><span class="o">:</span> <span class="s2">"https://dqw0wvb05w98x.cloudfront.net/pages/images/2030/original/blob-2e696a58efadbf869442e72b82cad667."</span><span class="p">,</span>
        <span class="s2">"tiny_image_url"</span><span class="o">:</span> <span class="s2">"https://dqw0wvb05w98x.cloudfront.net/pages/images/2030/tiny/blob-2e696a58efadbf869442e72b82cad667."</span><span class="p">,</span>
        <span class="s2">"small_image_url"</span><span class="o">:</span> <span class="s2">"https://dqw0wvb05w98x.cloudfront.net/pages/images/2030/small/blob-2e696a58efadbf869442e72b82cad667."</span><span class="p">,</span>
        <span class="s2">"medium_image_url"</span><span class="o">:</span> <span class="s2">"https://dqw0wvb05w98x.cloudfront.net/pages/images/2030/medium/blob-2e696a58efadbf869442e72b82cad667."</span><span class="p">,</span>
        <span class="s2">"large_image_url"</span><span class="o">:</span> <span class="s2">"https://dqw0wvb05w98x.cloudfront.net/pages/images/2030/large/blob-2e696a58efadbf869442e72b82cad667."</span>
      <span class="p">},</span>
      <span class="s2">"_score"</span><span class="o">:</span> <span class="mf">1.2133026</span><span class="p">,</span>
      <span class="s2">"_type"</span><span class="o">:</span> <span class="s2">"page"</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span></code></pre>

        
      </div>
    </section>
  </section>
  <script src="/javascripts/jquery.js"></script>
  <script src="/javascripts/app.js"></script>
</body>
</html>
