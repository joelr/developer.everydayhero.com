<!DOCTYPE HTML>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>EverydayHero API: Overview</title>
  <link rel="stylesheet" href="/stylesheets/pygments.css">
  <link rel="stylesheet" href="http://yandex.st/highlightjs/7.3/styles/github.min.css">
  <script src="http://yandex.st/highlightjs/7.3/highlight.min.js"></script>  
  <link rel="stylesheet" href="/stylesheets/app.css">
  <!--[if lt IE 9]>
    <script src="/javascripts/html5shiv-printshiv.js"></script>
  <![endif]-->

</head>
<body>
  <header class="header top a--100"><a href="/"><h1>Everyday Hero: Developer</h1></a></header>
  <section class="main center">
    <aside class="l--30 m--100 left side-bar">
      <div class="inner">
        <h1>Overview</h1>

        <nav>
          <ul>
            <li><a href="/">Intro</a></li>
            <li>
              <a href="/overview/">Overview</a>
              <ul>
                <li><a href="/overview/#schema">Schema</a></li>
                <li><a href="/overview/#parameters">Parameters</a></li>
                <li><a href="/overview/#auth-errors">Auth Errors</a></li>
                <li><a href="/overview/#validation-errors">Validation Errors</a></li>
                <li><a href="/overview/#http-verbs">HTTP Verbs</a></li>
                <li><a href="/overview/#authentication">Authentication</a></li>
                <li><a href="/glossary/">Glossary</a></li>
              </ul>
            </li>
            <li><a href="/campaigns/">Campaigns</a></li>
            <li><a href="/charities/">Charities</a></li>
            <li><a href="/leaderboards/">Leaderboards</a></li>
            <li><a href="/pages/">Pages</a></li>
            
            <li><a href="/teams/">Teams</a>
              <ul>
                <li><a href="/invitations/">Invitations</a>
                  <ul>
                    <li><a href="/invitations/#create-individual-page-invitation">Individual Page</a></li>
                    <li><a href="/invitations/#create-join-a-team-invitation">Join Team Invitation</a></li>
                  </ul>
                </li>
                <li><a href="/join-requests/">Join Requests</a></li>
              </ul>
            </li>
            
           
            
            <li><a href="/users/">Users</a></li>
            <li><a href="/oauth-integration/">OAuth Integration</a></li>
            <li><a href="/third-party-registration-integration/">Registration Integration</a></li>
            <li>Client side integration
              <ul>
                <li>Totals
                  <ul>
                    <li><a href="/client-side/campaign-totals/">Campaign totals</a></li>
                    <li><a href="/client-side/page-total/">Page totals</a></li>
                  </ul>
                </li>
                <li><a href="/client-side/leaderboards/">Leaderboards</a></li>
                
              </ul>
            </li>
            
              <li id="api-status">API Status: <span class='status down'>Down</span></li>
            </ul>
          </nav>
        </div>
      </aside>
      <section class="l--70 m--100 right content">
        <div class="inner">
          
          <h2 id="schema">Schema</h2>

<p>All API access is over HTTPS, and accessed from the everydayhero.com/api/v2 domain. All data is sent and received as JSON. A suffix of .json is required for GET requests.</p>

<pre><code>$ curl -i https://everydayhero.com/api/v2/leaderboards

HTTP/1.1 200 OK
Etag: "953c3675962fbabd0bc23fc2072ac018"
Last-Modified: Sat, 05 Jan 2013 07:17:33 GMT
Content-Type: application/json; charset=utf-8
Cache-Control: max-age=0, private, must-revalidate
X-Ua-Compatible: IE=Edge
X-Request-Id: 8ceea1bf56032cadf9a91c4365450e0e
X-Runtime: 0.056746
Content-Length: 19
Server: WEBrick/1.3.1 (Ruby/1.9.3/2012-04-20)
Date: Sat, 05 Jan 2013 11:40:26 GMT
Connection: Keep-Alive

{"leaderboards":[]}
</code></pre>

<p>Blank fields are included as null instead of being omitted.</p>

<p>All timestamps are returned in ISO 8601 format:</p>

<pre><code>YYYY-MM-DDTHH:MM:SSZ
</code></pre>

<h2 id="parameters">Parameters</h2>

<p>Many API methods take optional parameters. For GET requests, any
parameters not specified as a segment in the path can be passed as an
HTTP query string parameter:</p>

<pre><code>$ curl -i https://everydayhero.com/api/v1/leaderboards?ids=123
</code></pre>

<p>In this example the <code>:ids</code> parameter is passed in query string.</p>

<p>For POST requests, parameters not included in the URL should be encoded
as JSON with a Content-Type of ‘application/x-www-form-urlencoded’:</p>

<pre><code>$ curl -i -H "Authorization: Token token=your-token" -d '{}' \
    https://everydayhero.com/api/2
</code></pre>

<h2 id="auth-errors">Auth Errors</h2>

<p>There are two possible auth errors supported by the API:</p>

<ol>
<li>
    <p>Requesting resources that require authentication will result in a
<code>401 Unauthorized</code> response.</p>

    <p>HTTP/1.1 401 Unauthorized
 Date: Sun, 20 Jan 2013 21:58:06 GMT
 Status: 401 Unauthorized
 Strict-Transport-Security: max-age=31536000
 Content-Type: application/json; charset=utf-8
 X-UA-Compatible: IE=Edge,chrome=1
 Cache-Control: no-cache
 X-Request-Id: a024f7bfdcd8174551b46f8a15cfdac5
 X-Runtime: 0.007114
 X-Rack-Cache: miss
 Transfer-Encoding: chunked</p>

    <p>“error”: {
   “message”: “You need to authenticate for this resource”
 }</p>
  </li>
  <li>
    <p>Requesting resources that you do not have permission to request will
result in a <code>403 Forbidden</code> response.</p>

    <p>HTTP/1.1 403 Forbidden
 Date: Sun, 20 Jan 2013 21:58:08 GMT
 Status: 403 Forbidden
 Strict-Transport-Security: max-age=31536000
 Content-Type: application/json; charset=utf-8
 X-UA-Compatible: IE=Edge,chrome=1
 Cache-Control: no-cache
 X-Request-Id: a024f7bfdcd8174551b46f8a15cfdac5
 X-Runtime: 0.007114
 X-Rack-Cache: miss
 Transfer-Encoding: chunked</p>

    <p>“error”: {
   “message”: “You are not authorized to view this resource”
 }</p>
  </li>
</ol><h2 id="validation-errors">Validation Errors</h2>

<p>All validation errors resulting from a POST or PUT request will contain
a message and an array of errors. For more information on fixing the
validation errors see the corresponding documentation for the request.</p>

<pre><code>"error": {
   "message": "Validation failed",
   "errors": [
     {
       "field": "uid",
       "code": "invalid"
     }
   ]
 }
</code></pre>

<h2 id="http-verbs">HTTP Verbs</h2>

<p>Where possible, the API uses the appropriate HTTP verbs</p>

<dl>
<dt>GET</dt>
  <dd>Used for retrieving resources</dd>
  <dt>POST</dt>
  <dd>Used when creating resources</dd>
  <dt>PUT</dt>
  <dd>Used when updating resources</dd>
  <dt>DELETE</dt>
  <dd>Used when deleting resources</dd>
</dl><h2 id="authentication">Authentication</h2>

<p>There is only one authentication scheme in place for the API: Token
Authentication. Requests that require authentication will return a
status of 401.</p>

<pre><code>$ curl -i -H "Authorization: Token token=your-token" https://everydayhero.com/api/v2
</code></pre>

<p>Authenticated API access is tied at the campaign level - this means that
any and all information created or updated can only take place within
the specified campaign.</p>

<p>For API actions that require a UID, users will be required to authenticate with <a href="/oauth-integration/#how-to-authenticate-with-edh-passport">Giving Passport</a> which provides a UID in the returned payload.</p>
          
        </div>
      </section>
    </div>
  </section>
  <script src="/javascripts/jquery.js"></script>
  <script src="/javascripts/app.js"></script>
</body>
</html>
